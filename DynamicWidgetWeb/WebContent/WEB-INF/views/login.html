<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>

<!-- start: Meta -->
<meta charset="utf-8" />
<title>Widget Test page</title>
<meta name="description" content="Bootstrap Metro Dashboard" />
<meta name="author" content="Topkung" />
<meta name="keyword" content="Metro, Metro UI, Dashboard, Bootstrap, Admin, Template, Theme, Responsive, Fluid, Retina" />
<!-- end: Meta -->

<!-- start: Mobile Specific -->
<meta name="viewport" content="width=device-width, initial-scale=1" />
<!-- end: Mobile Specific -->
<th:block th:replace="fragments/inc_header :: grid-resources"/>

</head>
<body class="kstyle">
	<div class="container">
        <div class="row">
            <div class="col-md-4 col-md-offset-4">
                <div class="login-panel panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title" th:if="${msg == null}">Please Sign In</h3>
                        <h3 class="panel-title" style="color:red" th:if="${msg != null}">LDAP Authentication Error!</h3>
                    </div>
                    <div class="panel-body">
                        <form role="form" id="login_form" action="j_security_check">
                            <fieldset>
                                <div class="form-group">
                                    <input class="form-control" placeholder="Username" name="j_username" type="text" autofocus="autofocus"/>
                                </div>
                                <div class="form-group">
                                    <input class="form-control" placeholder="Password" name="j_password" type="password" value=""/>
                                </div>
                                <div class="checkbox">
                                    <label>
                                        <input name="remember" type="checkbox" value="Remember Me"/>Remember Me
                                    </label>
                                </div>
                                <!-- Change this to a button or input when using this as a form -->
                                <a id="submit" class="btn btn-lg btn-success btn-block">Login</a>
                            </fieldset>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script th:inline="javascript">
    	//<![CDATA[
    	$('input').keypress(function (e) {
		  if (e.which == 13) {
		    $('#login_form').submit();
// 		    return false;    //<---- Add this line
		  }
		});
    	$("#submit").click(function(e){
    		e.preventDefault();
    		$("#login_form").submit();
//     		$("#login_form").submit(function(e){alert(1);
//     			e.preventDefault();
//     			$.ajax({
// 			        type: "POST",
// 			        url: "j_security_check",
// 			        data: $('#login_form').serialize(),
// 			        success: function(data) {
// 			            alert(data);
// 		          	},
// 		          	error: function(data){
// 		          		alert(data)
// 	          		}
// 			    });
//     		});
    	});
    	//]]>
    </script>
</body>

</html>