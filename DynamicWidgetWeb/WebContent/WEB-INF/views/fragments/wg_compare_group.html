<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>

<!-- start: Meta -->
<meta charset="utf-8" />
<title>Circle Widget Fragments</title>
<meta name="description" content="Bootstrap Metro Dashboard" />
<meta name="author" content="Topkung" />
<meta name="keyword" content="Metro, Metro UI, Dashboard, Bootstrap, Admin, Template, Theme, Responsive, Fluid, Retina" />
<!-- end: Meta -->

<!-- start: Mobile Specific -->
<meta name="viewport" content="width=device-width, initial-scale=1" />
<!-- end: Mobile Specific -->

<!-- start: CSS -->
<link id="bootstrap-style" href="../../../bootstrap/css/bootstrap.min.css" rel="stylesheet" th:href="@{/resources/bootstrap/css/bootstrap.min.css}" />
<link href="../../../bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet" th:href="@{/resources/bootstrap/css/bootstrap-responsive.min.css}" />
<link id="base-style" href="../../../bootstrap/css/style.css" rel="stylesheet" th:href="@{/resources/bootstrap/css/style.css}" />
<link id="base-style-responsive" href="../../../bootstrap/css/style-responsive.css" rel="stylesheet" th:href="@{/resources/bootstrap/css/style-responsive.css}" />
<link href="../../../bootstrap/css/bootstrap.fonts.css" th:href="@{/resources/bootstrap/css/bootstrap.fonts.css}" rel='stylesheet' type='text/css' />
<!-- end: CSS -->


<!-- The HTML5 shim, for IE6-8 support of HTML5 elements -->
<!--[if lt IE 9]>
	  	<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<link id="ie-style" href="css/ie.css" rel="stylesheet">
	<![endif]-->

<!--[if IE 9]>
		<link id="ie9style" href="css/ie9.css" rel="stylesheet">
	<![endif]-->

<!-- start: Favicon -->
<link rel="shortcut icon" href="img/favicon.ico" th:href="@{/resources/bootstrap/img/favicon.ico}" />
<!-- end: Favicon -->
<link href="/resources/css/jquery-ui.css" rel="stylesheet" media="screen" th:href="@{/resources/css/jquery-ui.css}" />
<!-- <script src="/resources/js/jquery-2.1.3.js" th:src="@{/resources/js/jquery-2.1.3.js}"></script> -->
<!-- <script src="/resources/js/jquery-ui.js" th:src="@{/resources/js/jquery-ui.js}"></script> -->
</head>
<body>
	<th:block th:fragment="wg-compare-group">
	<style>

	</style>
		<div class="compare-group box" th:fragment="wg-compare-group-test">
			<div class="box-header">
				<h2>
					<i class="halflings-icon tasks"></i><span class="break"></span>DE1.1
				</h2>
			</div>
			<div class="box-content">
				<!-- ################ Start Gauge  ################  -->
				<div class="box" id="increment-val">
					<div class="box-header">
						<h2>
							<i class="halflings-icon tasks"></i><span class="break"></span>WIP Per station
						</h2>
					</div>
					<div class="box-content" style="text-align: center;">
						<!-- 					<div> -->
						<div id="solid-guage" style="width: 300px; height: 200px; display: inline-block"></div>
						<script>
							//<![CDATA[
							$(function() {
								var gaugeOptions = {

									chart : {
										type : 'solidgauge'
									},

									title : null,

									pane : {
										center : [ '50%', '85%' ],
										size : '140%',
										startAngle : -90,
										endAngle : 90,
										background : {
											backgroundColor : (Highcharts.theme && Highcharts.theme.background2)
													|| '#EEE',
											innerRadius : '60%',
											outerRadius : '100%',
											shape : 'arc'
										}
									},

									tooltip : {
										enabled : false
									},

									// the value axis
									yAxis : {
										stops : [ [ 0.1, '#55BF3B' ], // green
										[ 0.5, '#DDDF0D' ], // yellow
										[ 0.9, '#DF5353' ] // red
										],
										lineWidth : 0,
										minorTickInterval : null,
										tickPixelInterval : 400,
										tickWidth : 0,
										title : {
											y : -70
										},
										labels : {
											y : 16
										}
									},

									plotOptions : {
										solidgauge : {
											dataLabels : {
												y : 5,
												borderWidth : 0,
												useHTML : true
											}
										}
									}
								};

								// The speed gauge
								var solidGuageId = 'solid-guage';
								var seriesName = '% Capacity';
								var seriesData = [ 80 ];
								var yAxisMin = 0;
								var yAxisMax = 200;
								var tooltipSuffix = '%';
								var title = '% Capacity';
								$('#' + solidGuageId)
										.highcharts(
												Highcharts
														.merge(
																gaugeOptions,
																{
																	yAxis : {
																		min : yAxisMin,
																		max : yAxisMax,
																		title : {
																			text : title
																		}
																	},

																	credits : {
																		enabled : false
																	},

																	series : [ {
																		name : seriesName,
																		data : seriesData,
																		dataLabels : {
																			format : '<div style="text-align:center"><span style="font-size:25px;color:'
																					+ ((Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black')
																					+ '">{y}</span><br/>'
																					+ '<span style="font-size:12px;color:silver">'
																					+ tooltipSuffix
																					+ '</span></div>'
																		},
																		tooltip : {
																			valueSuffix : tooltipSuffix
																		}
																	} ]

																}));
									
								var widget = /*[[${widget}]]*/{id:1234};
								var intervalTime = widget.intervalTime;
								if(null!=intervalTime&&intervalTime>0){
									var interval = setInterval(function(){
										$.ajax({
											method: 'POST',
											url: "/Widget/grid/chart/load-data",
											contentType: 'application/json',
											data: JSON.stringify(widget),
											success: function(data) {	
												console.log(data);
												if(data && data.series && data.series.length){
													for(var i =0, l = data.series.length; i < l; i++){
														$('#' + solidGuageId).highcharts().series[i].setData(data.series[i].data); 
													}
												}
													
											},
											error: function(e) {
												log.error('Error');
											}
										});
									}, intervalTime);
								}
							});
							//]]>
						</script>
						<!-- 					</div> -->
					</div>
				</div>
				<!-- ################ End Gauge  ################  -->

				<!-- ################ Start Stats  ################  -->
				<div class="box" id="increment-val">

					<div class="box-header">
						<h2>
							<i class="halflings-icon tasks"></i><span class="break"></span>WIP Per station
						</h2>
					</div>

					<div class="content">
						<div class="textAndBox">
							<div>
								<span>35 %</span>
								<button class="btn btn-small">Large button</button>
							</div>
							<div>
								<span>35 %</span>
								<button class="btn btn-small">Large button</button>
							</div>
							<div>
								<span>35 %</span>
								<button class="btn btn-small">Large button</button>
							</div>
							<div>
								<span>35 %</span>
								<button class="btn btn-small">Large button</button>
							</div>
							<div>
								<span>35 %</span>
								<button class="btn btn-small">Large button</button>
							</div>
							<div>
								<span>35 %</span>
								<button class="btn btn-small">Large button</button>
							</div>
						</div>
					</div>
				</div>
				<!-- ################ End Stats  ################  -->

				<!-- ################ Start Circle  ################  -->
				<div class="box">
					<div class="hideInIE8 circleStats">
						<div class="span6">
							<div class="circleStatsItemBox green">
								<div class="header">% Near miss</div>
								<span class="percent">%</span>
								<div class="circleStat">
									<input type="text" value="58" class="whiteCircle" />
								</div>
							</div>
						</div>
						<div class="span6">
							<div class="circleStatsItemBox green">
								<div class="header">% Near miss</div>
								<span class="percent">%</span>
								<div class="circleStat">
									<input type="text" value="58" class="whiteCircle" />
								</div>
							</div>
						</div>
					</div>
				</div>
				<!-- ################ End Circle  ################  -->
			</div>

			<script th:inline="javascript">
				//<![CDATA[

				//]]>
			</script>
		</div>
		<div th:replace="fragments/wg_compare_group :: wg-compare-group-test"></div>
		<div th:replace="fragments/wg_compare_group :: wg-compare-group-test"></div>
	</th:block>
</body>
</html>